/* ===== Tokens / base ===== */
:root {
  --bg: #fdf6e3;
  --text: #000;
  --muted:#333;
  --padX: clamp(1rem, 4vw, 3rem);
  --padY: clamp(1rem, 4vw, 3rem);

  --h1: clamp(1.75rem, 4vw, 2.5rem);
  --p:  clamp(1rem, 2.5vw, 1.1rem);

  --radius: 12px;
  --shadow: 0 10px 24px rgba(0,0,0,.08);
  --overlay: rgba(0,0,0,.5);

  --cardBorder: 1px solid #eee;
}

/* ===== Layout (keep your structure) ===== */
.portfolio-section {
  display: flex;
  flex-direction: column;
  min-height: 100svh; /* mobile safe viewport */
  background: var(--bg);
}

/* ===== HERO ===== */
.portfolio-left {
  width: 100%;
  padding: 0;
  display: block;
  box-sizing: border-box;
}

.portfolio-left .image-container {
  width: 100%;
  /* aspect-ratio stabilizes layout while image loads */
  aspect-ratio: 16/10;        /* guardrail */
  min-height: 260px;
  max-height: 70vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  clip-path: none;             /* no clip on mobile */
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

@media (min-width: 980px) {
  .portfolio-left .image-container {
    /* clean bottom V-notch (decorative, professional) */
    clip-path: polygon(0% 0%, 100% 0%, 100% 86%, 50% 100%, 0% 86%);
  }
}

.portfolio-left img {
  width: 100%;
  height: 100%;
  object-fit: cover;           /* guardrail */
  display: block;
}

/* ===== LIST / TEXT ===== */
.portfolio-right {
  width: 100%;
  padding: var(--padY) var(--padX);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 16px;
  animation: fadeInText 700ms ease-out both;
}

.portfolio-title {
  font-size: var(--h1);
  font-weight: 800;
  margin: 0;
  color: var(--text);
}

.portfolio-description {
  font-size: var(--p);
  margin: 0 0 8px;
  color: var(--muted);
  max-width: 72ch;
  line-height: 1.6;
}

/* ===== GALLERY ===== */
.gallery-grid {
  display: grid;
  /* flexible grid: cards grow to 1fr, mobile-first */
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  width: 100%;
}

.gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius);
  cursor: pointer;
  text-decoration: none;
  background: #fff;            /* guardrail: white card */
  border: var(--cardBorder);   /* guardrail: 1px #eee */
  box-shadow: var(--shadow);
  outline: none;
  transition: transform .2s ease, box-shadow .2s ease;
}

/* stable card height */
.gallery-item figure {
  margin: 0;
  width: 100%;
  aspect-ratio: 16/10;         /* align with media block */
  display: grid;
  place-items: stretch;
}

.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: translateZ(0);
  transition: transform .35s ease;
}

/* Hover effects only on real hover devices */
@media (hover: hover) and (pointer: fine) {
  .gallery-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 28px rgba(0,0,0,.12);
  }
  .gallery-item:hover img {
    transform: scale(1.045);
  }
  .gallery-item:hover .overlay {
    opacity: 1;
  }
}

.gallery-item:focus-visible {
  box-shadow: 0 0 0 3px rgba(128,0,32,.18), var(--shadow);
}

/* Overlay label */
.gallery-item .overlay {
  position: absolute;
  inset: auto 0 0 0;
  background: var(--overlay);
  color: #fff;
  padding: 10px 12px;
  font-size: .95rem;
  text-align: center;
  opacity: 0;
  transition: opacity .25s ease;
}

/* Always show overlay on touch (no hover) */
@media (hover: none) {
  .gallery-item .overlay { opacity: 1; }
}

/* ===== Animations ===== */
@keyframes fadeInText {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .portfolio-right { animation: none; }
  .gallery-item, .gallery-item img { transition: none; }
}

/* ===== Small responsive tweaks ===== */
@media (max-width: 980px) {
  .gallery-grid { gap: 12px; }
}
