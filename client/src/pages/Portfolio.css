/* ===== Tokens / base ===== */
:root {
  --bg: #fdf6e3;
  --text: #000;
  --muted: #333;
  --padX: clamp(1rem, 4vw, 3rem);
  --padY: clamp(1rem, 4vw, 3rem);

  --h1: clamp(1.75rem, 4vw, 2.5rem);
  --p:  clamp(1rem, 2.5vw, 1.1rem);

  --radius: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,.08);
  --overlay: rgba(0,0,0,.5);
}

.portfolio-section {
  display: flex;
  flex-direction: column;
  min-height: 100svh; /* mobile safe viewport */
  background: var(--bg);
}

/* ===== HERO ===== */
.portfolio-left {
  width: 100%;
  padding: 0;
  display: block;
  box-sizing: border-box;
}

.portfolio-left .image-container {
  width: 100%;
  /* aspect-ratio stabilizuje layout dok se slika učitava, bolje od fiksne vh */
  aspect-ratio: 16/9;
  min-height: 260px;
  max-height: 70vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  /* V‑strelica: uključujemo je tek na većim ekranima da ne “seče” sadržaj na mobilnom */
  clip-path: none;
}

@media (min-width: 768px) {
  .portfolio-left .image-container {
    clip-path: polygon(0% 0%, 100% 0%, 100% 85%, 50% 100%, 0% 85%);
  }
}

.portfolio-left img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* ===== LISTA / TEKST ===== */
.portfolio-right {
  width: 100%;
  padding: var(--padY) var(--padX);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 16px;
  animation: fadeInText 700ms ease-out both;
}

.portfolio-title {
  font-size: var(--h1);
  font-weight: 800;
  margin: 0;
  color: var(--text);
}

.portfolio-description {
  font-size: var(--p);
  margin: 0 0 8px;
  color: var(--muted);
  max-width: 72ch;
  line-height: 1.6;
}

/* ===== GALERIJA ===== */
.gallery-grid {
  display: grid;
  /* fleksibilnija mreža: kartice rastu do 1fr, minimum taman za mobilni */
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  width: 100%;
}

.gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius);
  cursor: pointer;
  text-decoration: none;
  box-shadow: var(--shadow);
  outline: none;
  background: #000; /* da se fade-in slike ne vide kao “praznina” */
}

/* stabilna visina kartica na svim uređajima */
.gallery-item figure {
  margin: 0;
  width: 100%;
  aspect-ratio: 4/3;
  display: grid;
  place-items: stretch;
}

.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: scale(1.0001); /* mikro-fix protiv hairline praznina u nekim browserima */
  transition: transform .35s ease;
}

/* Hover efekti samo kada je dostupan pravi hover (ne na touch) */
@media (hover: hover) and (pointer: fine) {
  .gallery-item:hover img {
    transform: scale(1.05);
  }
  .gallery-item:hover .overlay {
    opacity: 1;
  }
}

.gallery-item:focus-visible {
  box-shadow: 0 0 0 3px rgba(0,0,0,.2), 0 0 0 6px rgba(0,0,0,.15);
}

/* Overlay naslov */
.gallery-item .overlay {
  position: absolute;
  inset: auto 0 0 0;
  background: var(--overlay);
  color: #fff;
  padding: 10px 12px;
  font-size: .95rem;
  text-align: center;
  opacity: 0;
  transition: opacity .25s ease;
}

/* Uvek pokaži overlay na mobilnom (nema hover) */
@media (hover: none) {
  .gallery-item .overlay { opacity: 1; }
}

/* ===== Animacije ===== */
@keyframes fadeInText {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .portfolio-right { animation: none; }
  .gallery-item img { transition: none; }
}

/* ===== Sitni responsive tweakovi ===== */
@media (max-width: 768px) {
  .gallery-grid { gap: 12px; }
}
